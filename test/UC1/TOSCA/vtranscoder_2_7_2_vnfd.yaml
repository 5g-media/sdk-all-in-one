toscaDefinitionsVersion: tosca_simple_yaml_1_2
description: Generated by 5G-MEDIA Validator

metadata:
  descriptorId: ad83d32e-f4b8-4f9d-b7a3-8f91a092f84a
  vendor: IBM
  version: "1.1"

topologyTemplate:
  
  substitutionMappings:
    nodeType: tosca.nodes.nfv.VNF
    requirements:
      virtualLink: [{cp: vnf-cp0, vl: default}]
  
  nodeTemplates:
    
    vtranscoder_VNF:
      type: tosca.nodes.nfv.VNF
      properties:
        descriptorId: ad83d32e-f4b8-4f9d-b7a3-8f91a092f84a
        descriptorVersion: "1.1"
        provider: IBM
        productName: vtranscoder_2_7_2_vnfd
        softwareVersion: "1.0"
        productInfoName: vtranscoder_2_7_2_vnfd
        productInfoDescription: vtranscoder_2_7_2_vnfd
        vnfmInfo:
          - JuJu
        flavourId: simple
        flavourDescription: Simple deployment flavour
      interfaces:
        vnflcm:
          instantiate:
            implementation: cloud-init.txt
    
    vtranscoder_VDU:
      type: tosca.nodes.nfv.Vdu.Compute
      properties:
        name: ubuntu
        vduProfile:
          minNumberOfInstances: 1
          maxNumberOfInstances: 2
      capabilities:
        virtualCompute:
          properties:
            virtualMemory:
              virtualMemSize: 512
            virtualCpu:
              numVirtualCpu: 1
      requirements:
        virtualStorage: [vnf_storage]
    
    vnf_storage:
      type: tosca.nodes.nfv.Vdu.VirtualBlockStorage
      properties:
        virtualBlockStorageData:
          sizeOfStorage: 10
        swImageData:
          imageName: /guest/5g-media/vtranscoder_2_7_2
          version: "0.5.0"
          checksum: cjfgbjtabvufi4368nbtiab
          containerFormat: BARE
          diskFormat: QCOW2
          size: 2
    
    vnf-cp0:
      type: tosca.nodes.nfv.VnfExtCp
      properties:
        protocol: [associatedLayerProtocol: IPV4]
        layerProtocols: [IPV4]
        role: LEAF
        description: mgmt interface
        virtualNetworkInterfaceRequirements: [networkInterfaceRequirements: {isManagement: true}]
      requirements:
        externalVirtualLink: [default]